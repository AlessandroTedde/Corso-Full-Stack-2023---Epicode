<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selezionare attributi nel DOM</title>
</head>
<body>
    <h1>Selezionare e modificare attributi del DOM</h1>
    <p>Vogliamo manipolare ad esempio la proprieta` href di un link o la proprieta` src di un'immagine</p>
    <table>
        <tr>
            <th>Metodo</th>
            <th>Descrizione</th>
        </tr>
        <tr>
            <td>hasAttribute(attrName)</td>
            <td>Restituisce true se l'elemento ha l'attributo specificato come parametro</td>
        </tr>
        <tr>
            <td>hasAttributes()</td>
            <td>Restituisce true se l'elemento ha almeno un attributo valorizzato</td>
        </tr>
        <tr>
            <td>getAttribute(attrName)</td>
            <td>restituisce il valore dell'attributo specificato come parametro</td>
        </tr>
        <tr>
            <td>setAttribute(attrName, value)</td>
            <td>Imposta (col secondo parametro) il nuovo valore di un attributo</td>
        </tr>
    </table>
    <p>Quando uso questi metodi?</p>
    <script>
        // assegno un'immagine di default agli elementi img che non hanno un'immagine associata
        var imgList = document.getElementsByTagName('img')
        for (let i = 0; i < imgList.length; i++) {
            const element = imgList[i];
            if (!element.hasAttribute('src')) {         // primo caso il parametro e` il nome dell'attributo che cerco          // il ! serve a invertire il senso di if, quindi in questo caso 'se non c'e` attributo src'
                element.setAttribute('src', 'default.png');     // il primo parametro e` attrName, il secondo value
                // tutte le volte che non c'e` src lo aggiunge e gli assegna default.png -> <img> -> <img src = 'default.png'
            }   
        }
        // posso accedere anche con la dot notation
        var imgList = document.getElementsByTagName('img');
        for (let i = 0; i < imgList.length; i++) {
            if(!imgList[i].src == "") {
                imgList[i],src = "default.png";
            }
        }
    </script>
    <h3>Esempio di sostituzione immagine</h3>
    <img id="myImg" src="/3rd_week/D2/tessera.JPG">
    <p>Clicca sul bottone per cambiare il valore dell'attributo src</p>
    <button onclick="myFunction()">Prova</button>
    <script>
        function myFunction() {
            document.getElementById("myImg").src = "/3rd_week/D2/20210503_162954.jpg";
        }
    </script>

    <h3>Esempio completo con setAttribute</h3>
    <p>seleziono un titolo e con setAttribute gli passo una classe da aggiungere</p>
    <style>
        .democlass {color: red}
    </style>
    <h5 id="myH5">L'elemento a cui aggiungo la classe</h5>
    <button onclick="myFunctiondue()">Aggiungi classe</button>
    <script>
        function myFunctiondue() {
            document.getElementById("myH5").setAttribute("class", "democlass");
        }
    </script>
</body>
</html>